---
title: "æ‰©å±• git branch å‘½ä»¤ å¢åŠ åˆ†æ”¯æè¿°çš„åŠŸèƒ½ Â· Issue #69 Â· shangwenhe/shangwenhe.github.io"
source: "https://github.com/shangwenhe/shangwenhe.github.io/issues/69"
author:
  - "[[shangwenhe]]"
published: 2025-07-15
created: 2025-09-30
description: "ğŸ“ Git åˆ†æ”¯æè¿°å·¥å…·ä½¿ç”¨æŒ‡å— ğŸ§­ èƒŒæ™¯è¯´æ˜ ç›®å‰ï¼ŒGit æœ¬èº«å¹¶æ²¡æœ‰å†…ç½®çš„åˆ†æ”¯æè¿°åŠŸèƒ½ï¼Œå¼€å‘è€…é€šå¸¸é€šè¿‡åˆ†æ”¯åæ¥äº†è§£åˆ†æ”¯çš„ç›®çš„ï¼Œä½†è¿™ç§æ–¹å¼ä¸å¤Ÿç›´è§‚ã€‚ä¸ºäº†æå‡åˆ†æ”¯ç®¡ç†çš„æ¸…æ™°åº¦å’Œå¯è¯»æ€§ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­å¼•å…¥äº†ä¸€ä¸ªåä¸º .git/branch-notes çš„æœ¬åœ°æ–‡ä»¶ï¼Œç”¨äºè®°å½•æ¯ä¸ª Git åˆ†æ”¯çš„æè¿°ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶ä¸ä¼šå½±å“ Git çš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œä»…ä½œä¸ºå¼€å‘äººå‘˜åœ¨æœ¬åœ°ç»´æŠ¤åˆ†æ”¯è¯´æ˜çš„å·¥å…·ã€‚ é€šè¿‡æ·»åŠ  git branch.note å‘½ä»¤ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°ä¸ºå½“å‰åˆ†æ”¯æ·»åŠ æè¿°ï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆ..."
tags:
  - "clippings"
---
**shangwenhe** opened this issue on 2025/7/15

# ğŸ“ Git åˆ†æ”¯æè¿°å·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ§­ èƒŒæ™¯è¯´æ˜

ç›®å‰ï¼ŒGit æœ¬èº«å¹¶æ²¡æœ‰å†…ç½®çš„åˆ†æ”¯æè¿°åŠŸèƒ½ï¼Œå¼€å‘è€…é€šå¸¸é€šè¿‡åˆ†æ”¯åæ¥äº†è§£åˆ†æ”¯çš„ç›®çš„ï¼Œä½†è¿™ç§æ–¹å¼ä¸å¤Ÿç›´è§‚ã€‚ä¸ºäº†æå‡åˆ†æ”¯ç®¡ç†çš„æ¸…æ™°åº¦å’Œå¯è¯»æ€§ï¼Œæˆ‘åœ¨é¡¹ç›®ä¸­å¼•å…¥äº†ä¸€ä¸ªåä¸º `.git/branch-notes` çš„æœ¬åœ°æ–‡ä»¶ï¼Œç”¨äºè®°å½•æ¯ä¸ª Git åˆ†æ”¯çš„æè¿°ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶ä¸ä¼šå½±å“ Git çš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œä»…ä½œä¸ºå¼€å‘äººå‘˜åœ¨æœ¬åœ°ç»´æŠ¤åˆ†æ”¯è¯´æ˜çš„å·¥å…·ã€‚

é€šè¿‡æ·»åŠ  `git branch.note` å‘½ä»¤ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°ä¸ºå½“å‰åˆ†æ”¯æ·»åŠ æè¿°ï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆç‡ä¸ä»£ç å¯ç»´æŠ¤æ€§ã€‚è¯¥å‘½ä»¤å¯¹å›¢é˜Ÿæˆå‘˜å®Œå…¨é€æ˜ã€æ˜“äºä½¿ç”¨ï¼Œæ˜¯å¯¹å¤–å±•ç¤ºçš„å…¥å£ã€‚

---

## ğŸ“Œ ä¸€ã€ç”¨æˆ·åº”è¯¥å¦‚ä½•é…ç½®

### 1\. åˆ›å»º `.git/branch-notes` æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `.git/branch-notes` çš„æ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨å„åˆ†æ”¯çš„æè¿°ä¿¡æ¯ï¼š

touch .git/branch-notes

æˆ–è€…ä½ å¯ä»¥ç›´æ¥å†™å…¥åˆå§‹å†…å®¹ï¼š

echo "| main | ä¸»åˆ†æ”¯ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒä»£ç " \> .git/branch-notes

### 2\. é…ç½® Git åˆ«å

å°†ä»¥ä¸‹é…ç½®æ·»åŠ åˆ°ä½ çš„ `.gitconfig` æ–‡ä»¶ä¸­ï¼Œä½¿ `git branch.note` å‘½ä»¤æ­£å¸¸å·¥ä½œï¼š

> âš ï¸ æ³¨æ„ï¼šä»¥ä¸‹å‘½ä»¤ä¸º Mac OS ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶ã€‚

\[alias "branch"\]
  clear \= "!f() { if test -f .git/branch-notes ; then grep -v $(git rev-parse --abbrev-ref HEAD) .git/branch-notes \> .git/branch-notes.tmp && mv .git/branch-notes.tmp .git/branch-notes; fi;}; f"
  add \=  "!f() { if \[\[ \-n $1 \]\]; then echo \\"| $(git rev-parse --abbrev-ref HEAD) | $@ |\\" \>> .git/branch-notes ; fi; }; f"
  show \= "!f() { if test -f .git/branch-notes ; then grep --no-filename $(git rev-parse --abbrev-ref HEAD) .git/branch-notes | awk -F '|' '{print $3}'; else echo 'The file \`.git/branch-notes\` does not exist'; fi; }; f"
  notes \= "!f() { git branch --list | tr -d ' \*' | while read -r name; do if \[\[ \-n $(grep ${name} .git/branch-notes) \]\]; then grep ${name} .git/branch-notes| sed 's/^|\[\[:space:\]\]//g' | awk -F '|' '{print $1 \\"\\\\033\[32m\\" $2 \\"\\\\033\[0m\\" }'; else echo  $name; fi; done; }; f"
  note \=  "!f() { if \[\[ \-n $1 && $1 \= '\--add' && \-n $2 \]\]; then shift; git branch.add $@; elif \[\[ \-n $1 && $1 \= '\--clear' \]\]; then git branch.clear; else git branch.show; fi; }; f"

> âœ… æ‰€æœ‰åˆ†æ”¯æè¿°æ“ä½œå‡é€šè¿‡å†…éƒ¨å‘½ä»¤ï¼ˆå¦‚ `branch.add`ã€`branch.show`ï¼‰å®ç°ï¼Œå› æ­¤ä½ åªéœ€é…ç½® `branch.note` å‘½ä»¤å³å¯ã€‚

---

## ğŸ“Œ äºŒã€ä»‹ç»ä¸€ä¸‹ `git branch.note` åº”è¯¥å¦‚ä½•ä½¿ç”¨

### 1\. æ·»åŠ åˆ†æ”¯æè¿°

ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¸ºå½“å‰åˆ†æ”¯æ·»åŠ æè¿°ï¼ˆæ”¯æŒä¸­æ–‡ï¼‰ï¼š

git branch.note --add "ç”¨äºå¼€å‘ç”¨æˆ·ç™»å½•æ¨¡å—ï¼ŒåŒ…å«å‰ç«¯å’Œåç«¯æ¥å£"

> ğŸ’¡ è¿è¡Œåï¼Œ`git branch.note` ä¼šè‡ªåŠ¨å°†æè¿°å†™å…¥ `.gitbranch` æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```
| <branch-name> | <description> |
```

ä¾‹å¦‚ï¼šæ‰§è¡Œ `git branch.note`

```
ç”¨äºå¼€å‘ç”¨æˆ·ç™»å½•æ¨¡å—ï¼ŒåŒ…å«å‰ç«¯å’Œåç«¯æ¥å£
```

### 2\. æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æè¿°

ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„è¯´æ˜ï¼š

git branch.note

> ğŸ“ æ­¤å‘½ä»¤ä¼šè‡ªåŠ¨è¯»å– `.git/branch-notes` æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå¹¶è¾“å‡ºå½“å‰åˆ†æ”¯çš„æè¿°ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®æè¿°ï¼Œåˆ™ä¼šæ˜¾ç¤ºç©ºç™½ã€‚

### 3\. æ¸…ç©ºå½“å‰åˆ†æ”¯çš„æè¿°

ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…ç©ºå½“å‰åˆ†æ”¯çš„è¯´æ˜ï¼š

git branch.note --clear

å½“å‰åˆ†æ”¯çš„æè¿°å°†ä¼šè¢«æ¸…ç©º âš ï¸ è¯·è°¨æ…æ“ä½œ

### 4\. æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æè¿°

ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„è¯´æ˜ï¼š

git branch.notes

åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯å¹¶å±•ç¤ºå‡ºåˆ†æ”¯çš„æè¿°

```
eat/cus-register
feat/data-statistics
feat/oAuth
feat/package-switching è¿™æ˜¯é¡¹ç›®çš„æè¿°
feat/replace-get-api-list
feat/stat-maas
feat/super-group
feat/test-template
fix/blog
fix/config-base
fix/huoshan-register
fix/optimization
```

**shangwenhe** commented on 2025/7/16

## å¢åŠ  å¿«é€Ÿåˆ›å»ºåˆ†æ”¯ å¹¶ æ·»åŠ åˆ†æ”¯æè¿° åŠŸèƒ½

### filename git-co

> è¯·å°† git-co æ–‡ä»¶æ·»åŠ åˆ° $PATH ä¸­ï¼›

#!/bin/bash

# git-co - è‡ªå®šä¹‰ Git æ’ä»¶ï¼Œç”¨äºå¤„ç†å¸¦ -m å‚æ•°çš„ checkout å‘½ä»¤
# ä½¿ç”¨æ–¹æ³•ï¼šgit co \[checkout å‚æ•°\] -m \[æ³¨é‡Šå†…å®¹\]

# åˆå§‹åŒ–å˜é‡
note\_message=""
checkout\_args=()
found\_m=false

# è§£æå‘½ä»¤è¡Œå‚æ•°
for arg in "$@"; do
    if \[\[ $found\_m \== true \]\]; then
        note\_message="$arg"
        found\_m=false
    elif \[\[ $arg \== "\-m" \]\]; then
        found\_m=true
    else
        checkout\_args+=("$arg")
    fi
done

# æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°äº† -m å‚æ•°ä½†æ²¡æœ‰æä¾›å€¼
if \[\[ $found\_m \== true \]\]; then
    echo "é”™è¯¯ï¼š-m é€‰é¡¹éœ€è¦ä¸€ä¸ªå‚æ•°å€¼ã€‚" \>&2
    exit 1
fi

# æ‰§è¡Œ git checkout å‘½ä»¤
git checkout "${checkout\_args\[@\]}"
checkout\_status=$?

# å¦‚æœ checkout æˆåŠŸä¸”æœ‰æ³¨é‡Šå†…å®¹ï¼Œåˆ™æ·»åŠ åˆ†æ”¯æ³¨é‡Š
if \[\[ $checkout\_status \-eq 0 && \-n "$note\_message" \]\]; then
    # è·å–å½“å‰åˆ†æ”¯å
    current\_branch=$(git rev-parse --abbrev-ref HEAD)
    if \[\[ \-n "$current\_branch" \]\]; then
        git branch.note --add $note\_message;
    fi
fi

exit $checkout\_status

## ä½¿ç”¨æ–¹å¼

å¦‚ `git co -b feat/test -m 'è¿™æ˜¯ä¸€ä¸ªåˆ†æ”¯çš„æè¿°'`

**shangwenhe** commented on 2025/7/16

## ç®€å†™ branch

```
[alias "br"]
  clear = "!f() { git branch.clear }; f"
  add =  "!f() {  git branch.add $*; }; f"
  show = "!f() { git branch.show; }; f"
  notes = "!f() { git branch.notes; }; f"
  note =  "!f() { git branch.note $*; }; f"
```

**sonic0002** commented on 2025/7/18

è¿™ä¸ªèƒ½é…ç½®å¼ºåˆ¶éœ€è¦ä¸ºæ–°å»ºåˆ†æ”¯æ·»åŠ æè¿°åŠŸèƒ½ä¹ˆï¼Ÿ  
ä¿®æ”¹æè¿°çš„è¯éœ€è¦clearå†åˆ›å»ºï¼Ÿ

**lengyijun** commented on 2025/7/18

Do you know `git branch --edit-description`

**lengyijun** commented on 2025/7/18

åˆ†æ”¯æè¿° èƒ½é€šè¿‡ github åŒæ­¥å— ï¼Ÿ

**Innnsane** commented on 2025/7/18

> åˆ†æ”¯æè¿° èƒ½é€šè¿‡ github åŒæ­¥å— ï¼Ÿ

.git æ–‡ä»¶ä¸åŠ å…¥ç‰ˆæœ¬ç®¡ç†ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯ä¸å¯ä»¥çš„

**zbuzhi92** commented on 2025/7/19

ä¸èƒ½åŒæ­¥çš„è¯ï¼Œå°±ç­‰äºå°±æ˜¯è‡ªå·±å¤‡æ³¨ç»™è‡ªå·±çœ‹

**shangwenhe** commented on 2025/7/22

> ä¸èƒ½åŒæ­¥çš„è¯ï¼Œå°±ç­‰äºå°±æ˜¯è‡ªå·±å¤‡æ³¨ç»™è‡ªå·±çœ‹

å®ƒåªæ˜¯ä¸€ä¸ªè®°å½•æ–‡ä»¶ã€‚å½“ç„¶ä½ å¯ä»¥æŠŠå®ƒæ”¾åˆ°é¡¹ç›®ä¸­ï¼Œè®© git å·¥å…·æŠŠå®ƒç®¡ç†èµ·æ¥ã€‚

**shangwenhe** commented on 2025/7/22

> è¿™ä¸ªèƒ½é…ç½®å¼ºåˆ¶éœ€è¦ä¸ºæ–°å»ºåˆ†æ”¯æ·»åŠ æè¿°åŠŸèƒ½ä¹ˆï¼Ÿ ä¿®æ”¹æè¿°çš„è¯éœ€è¦clearå†åˆ›å»ºï¼Ÿ

ä½ æŠŠ ä¸Šé¢çš„ git-co å¯æ‰§è¡Œæ–‡ä»¶ä¿å­˜åˆ° $PATH ä¸‹ã€‚

[@sonic0002](https://github.com/sonic0002) ä½¿ç”¨ `git co -b feat/new-test  -m 'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•çš„åˆ†æ”¯'` å°±å¯ä»¥ä¸ºå½“å‰æ–°åˆ›å»ºçš„åˆ†æ”¯æ·»åŠ æè¿°

**shangwenhe** commented on 2025/7/22

[@zbuzhi92](https://github.com/zbuzhi92) [@Innnsane](https://github.com/Innnsane)

å¦‚æœæƒ³æŠŠå®ƒæ”¾åˆ°é¡¹ç›®ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªã€‚ä½†ä½ æ¯æ¬¡åˆ‡æ¢åˆ†æ”¯å®ƒä¼šå˜åŠ¨ã€‚éœ€è¦æŠŠå®ƒåšä¸ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ç®¡ç†èµ·æ¥ã€‚

## å°†é…ç½®æ–‡ä»¶å­˜æ”¾åˆ°é¡¹ç›®ä¸­ï¼Œæ–‡ä»¶å `.git-branch-notes`

\[alias "branch"\]
  clear = "!f() { if test -f .git-branch-notes ; then grep -v $(git rev-parse --abbrev-ref HEAD) .git-branch-notes > .git-branch-notes.tmp && mv .git-branch-notes.tmp .git-branch-notes; fi;}; f"
  add =  "!f() { if \[\[ -n $1 \]\]; then echo \\"| $(git rev-parse --abbrev-ref HEAD) | $@ |\\" >> .git-branch-notes ; fi; }; f"
  show = "!f() { if test -f .git-branch-notes ; then grep --no-filename $(git rev-parse --abbrev-ref HEAD) .git-branch-notes | awk -F '|' '{print $3}'; else echo 'The file \`.git-branch-notes\` does not exist'; fi; }; f"
  notes = "!f() { git branch --list | tr -d ' \*' | while read -r name; do if \[\[ -n $(grep ${name} .git-branch-notes) \]\]; then grep ${name} .git-branch-notes| sed 's/^|\[\[:space:\]\]//g' | awk -F '|' '{print $1 \\"\\\\033\[32m\\" $2 \\"\\\\033\[0m\\" }'; else echo  $name; fi; done; }; f"
  note =  "!f() { if \[\[ -n $1 && $1 = '--add' && -n $2 \]\]; then shift; git branch.add $@; elif \[\[ -n $1 && $1 = '--clear' \]\]; then git branch.clear; else git branch.show; fi; }; f"