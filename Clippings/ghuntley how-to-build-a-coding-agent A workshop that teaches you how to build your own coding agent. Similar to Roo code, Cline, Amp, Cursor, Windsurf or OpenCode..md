---
title: "ghuntley/how-to-build-a-coding-agent: A workshop that teaches you how to build your own coding agent. Similar to Roo code, Cline, Amp, Cursor, Windsurf or OpenCode."
source: "https://github.com/ghuntley/how-to-build-a-coding-agent"
author:
  - "[[ghuntley]]"
published:
created: 2025-11-26
description: "A workshop that teaches you how to build your own coding agent. Similar to Roo code, Cline, Amp, Cursor, Windsurf or OpenCode. - ghuntley/how-to-build-a-coding-agent"
tags:
  - "clippings"
---

  
é€šè¿‡ 6 ä¸ªå¾ªåºæ¸è¿›çš„å®æˆ˜ç¤ºä¾‹ï¼Œä»æœ€åŸºç¡€çš„èŠå¤©æœºå™¨äººå¼€å§‹ï¼Œé€æ­¥æ·»åŠ æ–‡ä»¶è¯»å–ã€ç›®å½•æµè§ˆã€å‘½ä»¤æ‰§è¡Œã€ä»£ç ç¼–è¾‘å’Œä»£ç æœç´¢ç­‰åŠŸèƒ½ã€‚  
  
GitHubï¼šgithub.com/ghuntley/how-to-build-a-coding-agent  
  
æ¯ä¸ªç¤ºä¾‹ä»£ç éƒ½å¼€æºï¼Œå¹¶åŒ…å«è¯¦ç»†å®ç°æ­¥éª¤è¯´æ˜ï¼ŒåŒæ—¶é…æœ‰æ¶æ„å›¾å’Œæµç¨‹å›¾ï¼Œå¸®åŠ©æˆ‘ä»¬ç†è§£ Agent çš„å·¥ä½œåŸç†ã€‚  
  
æƒ³è¦äº†è§£ä¸»æµ AI ç¼–ç¨‹å·¥å…·åº•å±‚ç¼–ç  Agent å·¥ä½œåŸç†çš„å¼€å‘è€…ï¼Œå¯ä»¥å‚è€ƒå­¦ä¹ ä¸€ä¸‹ã€‚

A workshop that teaches you how to build your own coding agent. Similar to Roo code, Cline, Amp, Cursor, Windsurf or OpenCode.

[ghuntley.com/agent/](https://ghuntley.com/agent/ "https://ghuntley.com/agent/")

[Open in github.dev](https://github.dev/) [Open in a new github.dev tab](https://github.dev/) [Open in codespace](https://github.com/codespaces/new/ghuntley/how-to-build-a-coding-agent?resume=1)

<table><thead><tr><th colspan="2"><span>Name</span></th><th colspan="1"><span>Name</span></th><th><p><span>Last commit message</span></p></th><th colspan="1"><p><span>Last commit date</span></p></th></tr></thead><tbody><tr><td colspan="3"><p><span><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/bbf3476fe228ca923de77133147ef1a0c0303605">Update workshop title for clarity</a></span></p><p><span><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/bbf3476fe228ca923de77133147ef1a0c0303605">bbf3476</a> Â·</span></p><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commits/trunk/"><span><span><span>11 Commits</span></span></span></a></p></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/tree/trunk/prompts">prompts</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/tree/trunk/prompts">prompts</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/.envrc">.envrc</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/.envrc">.envrc</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/.gitignore">.gitignore</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/.gitignore">.gitignore</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/AGENT.md">AGENT.md</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/AGENT.md">AGENT.md</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/Makefile">Makefile</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/Makefile">Makefile</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/README.md">README.md</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/README.md">README.md</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/bbf3476fe228ca923de77133147ef1a0c0303605">Update workshop title for clarity</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/bash_tool.go">bash_tool.go</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/bash_tool.go">bash_tool.go</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/chat.go">chat.go</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/chat.go">chat.go</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/code_search_tool.go">code_search_tool.go</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/code_search_tool.go">code_search_tool.go</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/951a66f8f9d3fa8ba432976da94fdba5708feff0">Add code search agent with ripgrep integration</a></p></td><td></td></tr><tr><td colspan="2"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/devenv.lock">devenv.lock</a></p></td><td colspan="1"><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/blob/trunk/devenv.lock">devenv.lock</a></p></td><td><p><a href="https://github.com/ghuntley/how-to-build-a-coding-agent/commit/44f9706ece1caf014ec321f347699005efa4b88f">Initial commit with all project files</a></p></td><td></td></tr><tr><td colspan="3"></td></tr></tbody></table>

Welcome! ğŸ‘‹ This workshop will guide you through building your own **AI-powered coding assistant** â€” starting from a basic chatbot, and adding powerful tools like file reading, shell command execution, and code searching.

You donâ€™t need to be an AI expert. Just follow along and build step-by-step!

ğŸŒ **Want a detailed overview?** Check out the blog post: [ghuntley.com/agent](https://ghuntley.com/agent/)

---

By the end of this workshop, youâ€™ll understand how to:

- âœ… Connect to the Anthropic Claude API
- âœ… Build a simple AI chatbot
- âœ… Add tools like reading files, editing code, and running commands
- âœ… Handle tool requests and errors
- âœ… Build an agent that gets smarter with each step

---

Youâ€™ll build 6 versions of a coding assistant.

Each version adds more features:

1. **Basic Chat** â€” talk to Claude
2. **File Reader** â€” read code files
3. **File Explorer** â€” list files in folders
4. **Command Runner** â€” run shell commands
5. **File Editor** â€” modify files
6. **Code Search** â€” search your codebase with patterns

```
graph LR
    subgraph "Application Progression"
        A[chat.go<br/>Basic Chat] --> B[read.go<br/>+ File Reading]
        B --> C[list_files.go<br/>+ Directory Listing]
        C --> D[bash_tool.go<br/>+ Shell Commands]
        D --> E[edit_tool.go<br/>+ File Editing]
        E --> F[code_search_tool.go<br/>+ Code Search]
    end
    
    subgraph "Tool Capabilities"
        G[No Tools] --> H[read_file]
        H --> I[read_file<br/>list_files]
        I --> J[read_file<br/>list_files<br/>bash]
        J --> K[read_file<br/>list_files<br/>bash<br/>edit_file]
        K --> L[read_file<br/>list_files<br/>bash<br/>code_search]
    end
    
    A -.-> G
    B -.-> H
    C -.-> I
    D -.-> J
    E -.-> K
    F -.-> L
```

At the end, youâ€™ll end up with a powerful local developer assistant!

---

Each agent works like this:

1. Waits for your input
2. Sends it to Claude
3. Claude may respond directly or ask to use a tool
4. The agent runs the tool (e.g., read a file)
5. Sends the result back to Claude
6. Claude gives you the final answer

We call this the **event loop** â€” it's like the agent's heartbeat.

```
graph TB
    subgraph "Agent Architecture"
        A[Agent] --> B[Anthropic Client]
        A --> C[Tool Registry]
        A --> D[getUserMessage Function]
        A --> E[Verbose Logging]
    end
    
    subgraph "Shared Event Loop"
        F[Start Chat Session] --> G[Get User Input]
        G --> H{Empty Input?}
        H -->|Yes| G
        H -->|No| I[Add to Conversation]
        I --> J[runInference]
        J --> K[Claude Response]
        K --> L{Tool Use?}
        L -->|No| M[Display Text]
        L -->|Yes| N[Execute Tools]
        N --> O[Collect Results]
        O --> P[Send Results to Claude]
        P --> J
        M --> G
    end
    
    subgraph "Tool Execution Loop"
        N --> Q[Find Tool by Name]
        Q --> R[Execute Tool Function]
        R --> S[Capture Result/Error]
        S --> T[Add to Tool Results]
        T --> U{More Tools?}
        U -->|Yes| Q
        U -->|No| O
    end
```

### âœ… Prerequisites

- Go 1.24.2+ or [devenv](https://devenv.sh/) (recommended for easy setup)
- An [Anthropic API Key](https://www.anthropic.com/product/claude)

**Option 1: Recommended (using devenv)**

```
devenv shell  # Loads everything you need
```

**Option 2: Manual setup**

```
# Make sure Go is installed
go mod tidy
```
```
export ANTHROPIC_API_KEY="your-api-key-here"
```

---

A simple chatbot that talks to Claude.

```
go run chat.go
```
- â¡ï¸ Try: â€œHello!â€
- â¡ï¸ Add `--verbose` to see detailed logs

---

Now Claude can read files from your computer.

```
go run read.go
```
- â¡ï¸ Try: â€œRead fizzbuzz.jsâ€

---

Lets Claude look around your directory.

```
go run list_files.go
```
- â¡ï¸ Try: â€œList all files in this folderâ€
- â¡ï¸ Try: â€œWhatâ€™s in fizzbuzz.js?â€

---

Allows Claude to run safe terminal commands.

```
go run bash_tool.go
```
- â¡ï¸ Try: â€œRun git statusâ€
- â¡ï¸ Try: â€œList all.go files using bashâ€

---

Claude can now **modify code**, create files, and make changes.

```
go run edit_tool.go
```
- â¡ï¸ Try: â€œCreate a Python hello world scriptâ€
- â¡ï¸ Try: â€œAdd a comment to the top of fizzbuzz.jsâ€

---

Use pattern search (powered by [ripgrep](https://github.com/BurntSushi/ripgrep)).

```
go run code_search_tool.go
```
- â¡ï¸ Try: â€œFind all function definitions in Go filesâ€
- â¡ï¸ Try: â€œSearch for TODO commentsâ€

---

1. `fizzbuzz.js`: for file reading and editing
2. `riddle.txt`: a fun text file to explore
3. `AGENT.md`: info about the project environment

---

## ğŸ Troubleshooting

**API key not working?**

- Make sure itâ€™s exported: `echo $ANTHROPIC_API_KEY`
- Check your quota on [Anthropicâ€™s dashboard](https://www.anthropic.com/)

**Go errors?**

- Run `go mod tidy`
- Make sure youâ€™re using Go 1.24.2 or later

**Tool errors?**

- Use `--verbose` for full error logs
- Check file paths and permissions

**Environment issues?**

- Use `devenv shell` to avoid config problems

---

Tools are like plugins. You define:

- **Name** (e.g., `read_file`)
- **Input Schema** (what info it needs)
- **Function** (what it does)

Example tool definition in Go:

```
var ToolDefinition = ToolDefinition{
    Name:        "read_file",
    Description: "Reads the contents of a file",
    InputSchema: GenerateSchema[ReadFileInput](),
    Function:    ReadFile,
}
```

Schema generation uses Go structs â€” so itâ€™s easy to define and reuse.

---

| Phase | What to Focus On |
| --- | --- |
| **1** | `chat.go`: API integration and response handling |
| **2** | `read.go`: Tool system, schema generation |
| **3** | `list_files.go`: Multiple tools, file system |
| **4** | `bash_tool.go`: Shell execution, error capture |
| **5** | `edit_tool.go`: File editing, safety checks |
| **6** | `code_search_tool.go`: Pattern search, ripgrep |

---

If you use [`devenv`](https://devenv.sh/), it gives you:

- Go, Node, Python, Rust,.NET
- Git and other dev tools
```
devenv shell   # Load everything
devenv test    # Run checks
hello          # Greeting script
```

---

Once you complete the workshop, try building:

- Custom tools (e.g., API caller, web scraper)
- Tool chains (run tools in a sequence)
- Memory features (remember things across sessions)
- A web UI for your agent
- Integration with other AI models

---

## ğŸ“¦ Summary

This workshop helps you:

- Understand agent architecture
- Learn to build smart assistants
- Grow capabilities step-by-step
- Practice using Claude and Go together

---

Have fun exploring and building your own AI-powered tools! ğŸ’»âœ¨

If you have questions or ideas, feel free to fork the repo, open issues, or connect with the community!

## Releases

No releases published

## Sponsor this project

[**ghuntley** Geoffrey Huntley](https://github.com/ghuntley)

[Sponsor](https://github.com/sponsors/ghuntley)

[Learn more about GitHub Sponsors](https://github.com/sponsors)

## Packages

No packages published