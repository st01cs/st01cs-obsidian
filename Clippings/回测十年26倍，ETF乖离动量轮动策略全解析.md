---
title: "回测十年26倍，ETF乖离动量轮动策略全解析"
source: "https://zhuanlan.zhihu.com/p/1951255755513631841"
author:
  - "[[猫哥AI量化用 AI 重构投资（公众号同名）]]"
published:
created: 2025-10-01
description: "文/猫哥AI量化 ps：3000字朋友们，这个周末继续更新。猫哥深入思考了一下，自从今年年初DeepSeek横空出世，整个AI的进化速度突然加快，各个AI产品层出不穷，海外的AI类资本开支也大幅提高，从而形成“科技牛市”的…"
tags:
  - "clippings"
---
![回测十年26倍，ETF乖离动量轮动策略全解析](https://pica.zhimg.com/70/v2-cc88f74a8352e82aa5976739e3082f62_1440w.avis?source=172ae18b&biz_tag=Post)

回测十年26倍，ETF乖离动量轮动策略全解析

![](https://pic1.zhimg.com/v2-f3a1552f0c2671a9dee5818ffc2dd01c_1440w.jpg)

文/猫哥AI量化 ps：3000字 朋友们，这个周末继续更新。猫哥深入思考了一下，自从今年年初 DeepSeek 横空出世，整个AI的进化速度突然加快，各个AI产品层出不穷，海外的AI类资本开支也大幅提高，从而形成“ 科技牛市 ”的全球共振。 自8月份以来，市场行情非常火热！但不少朋友都有这样的感觉：指数涨得飞起，自己的账户却原地踏步，这种踏空的焦虑感，确实不太好受！与其跑不赢指数，不然加入指数，所以 ETF类的量化策略，是需要引起重视的 ，特别是未来如果是慢牛行情的话。 可以参考一下美股，自 1982 年美股进入超级周期以后，标普 500 指数在 1982-2021 年间年化回报率达到 10.5%，这种慢牛使得指数基金的被动持有策略能充分捕获经济增长红利。 巴菲特在 1993 年首次提出指数基金建议时，正是这一长期趋势的起点。 与此同时，近几年A股市场的各类ETF的份额日益增长，各个权重股的筹码被ETF锁定，慢牛格局日渐清晰。 以上图为例，创业板已经走出了一段明显的上行趋势，当市场火热的时候，我们既怕追高被套，又怕踏空行情，这种纠结的心情，相信大家都深有体会。 所以猫哥今天给大家介绍的策略，就是 ETF乖离动量轮动策略 。 动量轮动策略最大的优势是在趋势走弱时能自动切换到其他类型的ETF，例如债券、黄金、低波红利等资产，避免单一资产持续下跌带来的损失，实现真正的风险分散和防御性配置。 策略解析 1. 乖离率：价格相对90日均线的偏离程度 乖离率听起来很专业，其实就是 当前价格相对于90日均线的偏离程度 乖离率 = (当前价格 - 90日均线) / 90日均线 × 100% 当乖离率过高时，说明价格偏离均线太多，可能面临回调；乖离率过低时，说明价格被低估，可能存在反弹机会。 代码实现示例 ： # 计算乖离因子：价格相对BIAS\_N日均线的偏离程度 def calculate\_bias\_ratio(close\_prices, bias\_n=90): # 计算移动平均线 moving\_avg = close\_prices.rolling(window=bias\_n, min\_periods=1).mean() # 计算乖离率 bias\_ratio = close\_prices / moving\_avg return bias\_ratio # 使用示例 close\_prices = df\['close'\] # 获取收盘价数据 bias\_ratio = calculate\_bias\_ratio(close\_prices, BIAS\_N) bias\_recent = bias\_ratio.iloc\[-MOMENTUM\_DAY:\] # 取最近25天的乖离率 2. 动量：25天乖离率的趋势斜率 动量指标是通过 对最近25天的乖离率进行线性回归 ，计算出趋势的斜率。这个斜率告诉我们： 斜率为正且增大：趋势强劲 斜率为负且减小：趋势疲软 斜率接近零：趋势不明朗 策略最终得分就是动量斜率得分 ，选择 动量得分 最高的ETF进行配置。 from sklearn.linear\_model import LinearRegression import numpy as np def calculate\_momentum\_score(bias\_recent, momentum\_day=25): # 创建时间序列数组 x\_array = np.arange(momentum\_day) # 标准化处理，将第一个值设为1 y\_normalized = bias\_recent / bias\_recent.iloc\[0\] # 使用线性回归计算斜率 lr\_model = LinearRegression() lr\_model.fit(x\_array.reshape(-1, 1), y\_normalized) momentum\_score = lr\_model.coef\_\[0\].real \* 10000# 放大10000倍 return momentum\_score # 使用示例 momentum\_score = calculate\_momentum\_score(bias\_recent, MOMENTUM\_DAY) print(f'动量得分: {momentum\_score:.2f}') 这样我们就得到了每个ETF的动量得分，接下来就是选择得分最高的ETF进行配置！例如2015年1月份的回测截图，打印多种评分日志： 3. 轮动：多类别ETF配置策略 策略的核心在于 在不同类别ETF之间进行轮动配置 本策略具体关注以下几个类别： 国债ETF：511010.SH- 债券类资产，用于避险 红利低波ETF：512890.SH- 价值类资产，稳健型配置 创业板ETF：159915.SZ- 成长类资产，进攻型配置 纳指ETF：513100.SH- 海外资产，国际化配置 黄金ETF：518880.SH- 商品资产，抗通胀配置 策略实操步骤 猫哥把这个策略简化为三个步骤： 第一步：计算各类ETF的乖离率和动量 获取90日均线数据 计算每日乖离率 对25天乖离率进行线性回归，得到动量值 第二步：动量评分排序 对25天乖离率进行线性回归，计算趋势斜率 斜率越大得分越高，表示趋势越强劲 选择动量得分最高的1个ETF进行配置 第三步：每日调仓执行 每日开盘时执行调仓操作 卖出非目标ETF，买入目标ETF 使用开盘价成交，避免未来函数 策略回测表现： 猫哥使用 QMT量化平台 进行回测，熟悉猫哥的读者都知道，之前我都是使用Ptrade进行回测，但现在改主意了，包括以后也会经常使用QMT回测和实盘。原因是Ptrade回测的速度实在是太慢了...... 回测时间段 ：2015年1月 - 2025年9月 回测结果 策略总收益：2600.1% 年化收益率：36.98% 最大回撤：-27.43% 夏普比率：1.31 从数据来看，这个策略确实有不错的表现！ 十年26倍，在ETF轮动策略中，绝对属于佼佼者的存在 ，但需注意，即使是轮动策略，历史回测中显示依然存在接近30%的回撤，在目前指数相对高位的情况下，依然需要保持客观理性。 猫哥计划下个周末更新一个实盘版本的，同时也会更新QMT回测和实盘的代码有什么需要注意的地方，敬请期待。 总结 这个周末猫哥花了不少时间去打磨这个策略，虽然看似逻辑比较简单，但效果还是非常不错的，通过对乖离率进行线性回归，进行趋势评分和动量轮动，抓住市场的轮动规律。 通过这个策略，我们既能分享指数的红利，又能有效控制风险，避免因为选错个股而踏空行情，避免一直持有趋势走弱的资产。但记住， 投资永远有风险，作为量化投资者，我们需要用理性和纪律来获取长期收益

[所属专栏 · 2025-09-26 22:10 更新](https://zhuanlan.zhihu.com/c_1927019426173134807)



[猫哥AI量化](https://zhuanlan.zhihu.com/c_1927019426173134807)

[

猫哥AI量化

29 篇内容 · 294 赞同

](https://zhuanlan.zhihu.com/c_1927019426173134807)

[

最热内容 ·

Claude Code 开发100个量化策略：全天候策略

](https://zhuanlan.zhihu.com/c_1927019426173134807)

编辑于 2025-09-16 12:11・山东[量化投资](https://www.zhihu.com/topic/19669103)[量化交易](https://www.zhihu.com/topic/19815465)[股票](https://www.zhihu.com/topic/19559840)